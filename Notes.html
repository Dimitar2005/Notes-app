<!DOCTYPE html>
<html lang="bg">
<head>
<meta charset="UTF-8">
<title>Моите бележки</title>
<style>
body {
font-family: sans-serif;
padding: 20px;
background: #f9f9f9;
color: #333;
transition: background 0.3s, color 0.3s;
}
body.dark {
background: #121212;
color: #eee;
}
h1 { margin-bottom: 10px; }
input, button {
padding: 10px;
margin-top: 10px;
}
input { width: 60%; }
button { margin-left: 5px; }
ul { list-style: none; padding: 0; }
li {
background: #fff;
padding: 10px;
margin-top: 10px;
border-radius: 5px;
}
body.dark li {
background: #1e1e1e;
}
</style>
</head>
<body>

<h1>Моите бележки</h1>
<button onclick="toggleTheme()">Превключи тема</button><br>
<input id="noteInput" placeholder="Въведи бележка">
<button onclick="addNote()">Добави</button>

<ul id="notesList"></ul>

<script>
let notes = [];

window.onload = function() {
const saved = localStorage.getItem("notes");
const theme = localStorage.getItem("theme");
if (saved) {
notes = JSON.parse(saved);
}
if (theme === "dark") {
document.body.classList.add("dark");
}
showNotes();
};

function toggleTheme() {
document.body.classList.toggle("dark");
localStorage.setItem("theme", document.body.classList.contains("dark") ? "dark" : "light");
}

function addNote() {
const input = document.getElementById("noteInput");
if (input.value.trim() === "") return;
notes.push(input.value);
saveNotes();
showNotes();
input.value = "";
}

function editNote(index) {
const newText = prompt("Редактирай бележката:", notes[index]);
if (newText !== null && newText.trim() !== "") {
notes[index] = newText;
saveNotes();
showNotes();
}
}

function deleteNote(index) {
notes.splice(index, 1);
saveNotes();
showNotes();
}

function showNotes() {
const list = document.getElementById("notesList");
list.innerHTML = "";
notes.forEach((note, i) => {
list.innerHTML += `
<li>${note}
<button onclick="editNote(${i})">Редактирай</button>
<button onclick="deleteNote(${i})">Изтрий</button>
</li>
`;
});
}

function saveNotes() {
localStorage.setItem("notes", JSON.stringify(notes));
}
</script>

</body>
</html>